(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{412:function(e,t,a){e.exports=a.p+"assets/img/build.8550c09d.jpg"},413:function(e,t,a){e.exports=a.p+"assets/img/demo01_res.d42ae011.png"},414:function(e,t,a){e.exports=a.p+"assets/img/demo01_buid_01.97b00c3e.png"},415:function(e,t,a){e.exports=a.p+"assets/img/demo01_buid.d249ef9c.jpg"},416:function(e,t,a){e.exports=a.p+"assets/img/demo01_java8.d258f58f.png"},443:function(e,t,a){"use strict";a.r(t);var n=a(3),s=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[e._v("由于最近要有客户端开发的需求，所以需要搭建开发环境，看了"),t("a",{attrs:{href:"https://www.reactnative.cn/docs/environment-setup",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("React Native"),t("OutboundLink")],1),e._v("的中文文档，我认为在"),t("code",[e._v("windows11")]),e._v("上配置环境是小菜一碟，但是结束是我太天真了。")])]),t("h2",{attrs:{id:"_1-安装依赖"}},[e._v("1 安装依赖")]),e._v(" "),t("blockquote",[t("p",[e._v("React Native的最新版本已经是0.71，所以需要下载"),t("strong",[e._v("Node 的版本应大于等于 14，JDK要大于11")])])]),e._v(" "),t("h3",{attrs:{id:"_1-1-node安装"}},[e._v("1.1 Node安装")]),e._v(" "),t("p",[e._v("具体安装教程可以参考"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/442215189",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("node.js安装及环境配置超详细教程【Windows系统安装包方式】"),t("OutboundLink")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("如果电脑上已经安装了其它node版本或者想方便管理各个版本的node这里推荐使用"),t("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("nvm"),t("OutboundLink")],1),e._v("这个工具，nvm的安装和使用教程可以参考"),t("a",{attrs:{href:"https://juejin.cn/post/7074108351524634655",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("nvm for windows 下载、安装及使用"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("为了加快npm下载依赖的速度，推荐使用淘宝镜像，但文档不建议使用"),t("code",[e._v("cnpm")]),e._v(",具体配置如下：")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx nrm use taobao\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-2-java-jdk11安装"}},[e._v("1.2 Java JDK11安装")]),e._v(" "),t("p",[e._v("jdk安装教程可以参考"),t("a",{attrs:{href:"https://blog.csdn.net/bestsongs/article/details/105141546",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("jdk11下载与安装教程（win10）超详细"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"_2-配置开发环境"}},[e._v("2 配置开发环境")]),e._v(" "),t("h3",{attrs:{id:"_2-1-安装-android-studio"}},[e._v("2.1 安装 Android Studio")]),e._v(" "),t("p",[e._v("首先下载和安装 "),t("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Android Studio"),t("OutboundLink")],1),e._v("，国内用户可能无法打开官方链接，请自行使用搜索引擎搜索可用的下载链接。这里推荐的安装教程为"),t("a",{attrs:{href:"https://blog.csdn.net/addpw/article/details/115017995",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Android Studio安装及启动教程"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"},[e._v("注意点")]),t("p",[e._v("模拟器最好选择"),t("code",[e._v("API Level 31 image")])])]),t("h3",{attrs:{id:"_2-2-安装-android-sdk"}},[e._v("2.2 安装 Android SDK")]),e._v(" "),t("p",[e._v("Android Studio 默认会安装最新版本的 Android SDK。目前编译 React Native 应用需要的是Android 12 (S)版本的 SDK（注意 SDK 版本不等于终端系统版本，RN 目前支持 android 5 以上设备）。你可以在 Android Studio 的 SDK Manager 中选择安装各版本的 SDK。安装教程可参考"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/313606629",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Android sdk下载安装配置教程"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"},[e._v("注意点")]),t("ul",[t("li",[e._v("安装SDK的文件目录最好放到其它盘，文件比较大，并且文件目录最好不要出现中文")]),e._v(" "),t("li",[e._v("版本一定要安装对")]),e._v(" "),t("li",[e._v("确保选中了 React Native 所必须的33.0.0版本。你可以同时安装多个其他版本。")]),e._v(" "),t("li",[e._v("确保勾选了下面这些组件（重申你必须使用稳定的代理软件，否则可能都看不到这个界面）："),t("code",[e._v("Android SDKPlatform 31")]),e._v("和"),t("code",[e._v("Intel x86 Atom_64 System Image")]),e._v("（官方模拟器镜像文件，使用非官方模拟器不需要安装此组件)")]),e._v(" "),t("li",[e._v("安装时间有点长，建议耐心等待，或者学会使用代理")])])]),t("h2",{attrs:{id:"_3-创建新项目"}},[e._v("3 创建新项目")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"title"},[e._v("注意点")]),t("p",[e._v("如果你之前全局安装过旧的react-native-cli命令行工具，请使用"),t("code",[e._v("npm uninstall -g react-native-cli")]),e._v("卸载掉它以避免一些冲突：")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" uninstall "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v(" react-native-cli @react-native-community/cli\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("ul",[t("li",[e._v("请不要在目录、文件名中使用中文、空格等特殊符号。请不要单独使用常见的关键字作为项目名（如 class, native, new, package 等等）。请不要使用与核心模块同名的项目名（如 react, react-native 等）。")]),e._v(" "),t("li",[e._v("请不要在某些权限敏感的目录例如 System32 目录中 init 项目！会有各种权限限制导致不能运行！")]),e._v(" "),t("li",[e._v("请不要使用一些移植的终端环境，例如git bash或mingw等等，这些在 windows 下可能导致找不到环境变量。请使用系统自带的命令行（CMD 或 powershell）运行。")])])]),t("h3",{attrs:{id:"_3-1-创建项目"}},[e._v("3.1 创建项目")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("npx react-native init 你的项目名称\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-2-开启模拟器"}},[e._v("3.2 开启模拟器")]),e._v(" "),t("p",[e._v("模拟器最好选择"),t("code",[e._v("API Level 31 image")])]),e._v(" "),t("h3",{attrs:{id:"_3-3-运行项目"}},[e._v("3.3 运行项目")]),e._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v(" npx react-native run-android\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("编译这个过程视情况而定，一般时间比较久，我大约等了3个多小时，才编译成功\n"),t("img",{attrs:{src:a(412),alt:"编译时长"}}),e._v("\n最终编译成功可以看到\n"),t("img",{attrs:{src:a(413),alt:"编译结果"}})]),e._v(" "),t("h2",{attrs:{id:"_4-我遇到的问题"}},[e._v("4 我遇到的问题")]),e._v(" "),t("h3",{attrs:{id:"_4-1-run-android下载包很慢"}},[e._v("4.1 "),t("code",[e._v("run-android")]),e._v("下载包很慢")]),e._v(" "),t("p",[e._v("解决方法：\n修改了"),t("code",[e._v("android->build.gradle")]),e._v("文件中"),t("code",[e._v("repositories")])]),e._v(" "),t("div",{staticClass:"language-md line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-md"}},[t("code",[e._v("    repositories {\n//        google()\n        maven { url 'https://maven.aliyun.com/repository/jcenter' }\n        maven { url 'https://maven.aliyun.com/repository/google' }\n        mavenCentral()\n    }\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("p",[e._v("修改后网速稍微快了那么一点点！")]),e._v(" "),t("h3",{attrs:{id:"_4-2-环境配置"}},[e._v("4.2 环境配置")]),e._v(" "),t("p",[e._v("在为运行 "),t("code",[e._v("run-android")]),e._v("时，给我报环境问题\n"),t("img",{attrs:{src:a(414),alt:"编译结果"}}),e._v("\n我但是就懵逼了，后面使用了")]),e._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v(" npx react-native doctor \n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("这个指令发现了问题所在，原来是我的版本问题，然后fix就解决了\n"),t("img",{attrs:{src:a(415),alt:"编译结果"}})]),e._v(" "),t("h3",{attrs:{id:"_4-3-java版本问题"}},[e._v("4.3 java版本问题")]),e._v(" "),t("p",[e._v("由于我的JAVA_HOME是java8，所以在编译的时候给我报了版本不支持的问题\n"),t("img",{attrs:{src:a(416),alt:"编译结果"}}),e._v("\n但是我设置了我的"),t("code",[e._v("Project Structure")]),e._v("为java 11但是没有用，最后我尝试修改了"),t("code",[e._v("android->gradle.properties")]),e._v("，加了一句")]),e._v(" "),t("div",{staticClass:"language-md line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-md"}},[t("code",[e._v("org.gradle.java.home=E:/JDK11 //你jdk11的地址\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h2",{attrs:{id:"_5-总结"}},[e._v("5 总结")]),e._v(" "),t("p",[e._v("配置React Native 太麻了！")])])}),[],!1,null,null,null);t.default=s.exports}}]);